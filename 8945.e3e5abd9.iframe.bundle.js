"use strict";(self.webpackChunknice_ui=self.webpackChunknice_ui||[]).push([[8945],{"./src/markdown/block/katex/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>block_katex});var react=__webpack_require__("./node_modules/react/index.js"),react_namespaceObject=__webpack_require__.t(react,2),lib=__webpack_require__("./node_modules/nano-theme/lib/index.js"),MarkdownBlock=__webpack_require__("./src/markdown/util/MarkdownBlock.tsx"),useAsync=__webpack_require__("./node_modules/react-use/lib/useAsync.js"),loadKatex=__webpack_require__("./src/markdown/components/katex/loadKatex.ts");const{useRef,useEffect}=react_namespaceObject,KatexDisplay=_ref=>{let{source}=_ref;const ref=useRef(null),{value:katex}=(0,useAsync.A)(loadKatex.A);return useEffect((()=>{if(!katex)return;const div=ref.current;if(div){try{katex.render(source,ref.current,{displayMode:!0,throwOnError:!0})}catch(error){katex.render(source,ref.current,{displayMode:!1,throwOnError:!1})}return()=>{for(;div.firstChild;)div.removeChild(div.firstChild)}}}),[katex,ref.current,source]),react.createElement("div",{ref,style:{textAlign:"center"}})},katex_KatexDisplay=KatexDisplay;try{KatexDisplay.displayName="KatexDisplay",KatexDisplay.__docgenInfo={description:"",displayName:"KatexDisplay",props:{source:{defaultValue:null,description:"",name:"source",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/markdown/components/katex/KatexDisplay/index.tsx#KatexDisplay"]={docgenInfo:KatexDisplay.__docgenInfo,name:"KatexDisplay",path:"src/markdown/components/katex/KatexDisplay/index.tsx#KatexDisplay"})}catch(__react_docgen_typescript_loader_error){}const blockClass=(0,lib.rule)({w:"100%",maxW:"100%",overflowY:"hidden",overflowX:"scroll"}),block_katex=props=>react.createElement(MarkdownBlock.Ay,{idx:props.idx,className:blockClass},react.createElement(katex_KatexDisplay,{source:props.source}));try{katex.displayName="katex",katex.__docgenInfo={description:"",displayName:"katex",props:{idx:{defaultValue:null,description:"",name:"idx",required:!0,type:{name:"number"}},source:{defaultValue:null,description:"",name:"source",required:!0,type:{name:"string"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((error: unknown) => void)"}},renderLoading:{defaultValue:null,description:"",name:"renderLoading",required:!1,type:{name:"((props: IMarkdownBlockProps) => ReactNode)"}},renderError:{defaultValue:null,description:"",name:"renderError",required:!0,type:{name:"(props: IMarkdownBlockProps, error?: Error | undefined) => ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/markdown/block/katex/index.tsx#katex"]={docgenInfo:katex.__docgenInfo,name:"katex",path:"src/markdown/block/katex/index.tsx#katex"})}catch(__react_docgen_typescript_loader_error){}},"./src/markdown/components/katex/loadKatex.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _utils_loadScript__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/utils/loadScript.ts"),thingies_lib_loadCss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/thingies/lib/loadCss.js"),thingies_lib_tick__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/thingies/lib/tick.js"),thingies_lib_Defer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/thingies/lib/Defer.js");let cached;const __WEBPACK_DEFAULT_EXPORT__=async()=>{if(!cached){cached=new thingies_lib_Defer__WEBPACK_IMPORTED_MODULE_3__.Defer,(0,thingies_lib_loadCss__WEBPACK_IMPORTED_MODULE_1__.q)("https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css");const katex=await(0,_utils_loadScript__WEBPACK_IMPORTED_MODULE_0__.Q)("katex","https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.js");await(0,_utils_loadScript__WEBPACK_IMPORTED_MODULE_0__.k)("https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/contrib/mhchem.min.js"),await(0,thingies_lib_tick__WEBPACK_IMPORTED_MODULE_2__.tick)(1),cached.resolve(katex)}return cached.promise}},"./src/utils/loadScript.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>loadGlobal,k:()=>loadScript});var thingies_lib_until__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/thingies/lib/until.js");const load=__webpack_require__("./node_modules/load-script/index.js"),loadScript=url=>new Promise(((resolve,reject)=>load(url,((err,script)=>err?reject(err):resolve(script))))),loadGlobal=(globalVarName,url)=>loadScript(url).then((()=>(0,thingies_lib_until__WEBPACK_IMPORTED_MODULE_0__.T)((()=>!!__webpack_require__.g[globalVarName])))).then((()=>__webpack_require__.g[globalVarName]))},"./node_modules/thingies/lib/loadCss.js":(__unused_webpack_module,exports)=>{exports.q=void 0,exports.q="object"!=typeof window?()=>{}:(href,id)=>{if(id){const link=document.getElementById(id);if(link)return link}const link=document.createElement("link");return id&&(link.id=id),link.rel="stylesheet",link.type="text/css",link.href=href,link.media="all",document.getElementsByTagName("head")[0].appendChild(link),link}},"./node_modules/thingies/lib/tick.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.tick=void 0;exports.tick=(ms=1)=>new Promise((r=>setTimeout(r,ms)))},"./node_modules/thingies/lib/until.js":(__unused_webpack_module,exports,__webpack_require__)=>{exports.T=void 0;const tick_1=__webpack_require__("./node_modules/thingies/lib/tick.js");exports.T=async(check,pollInterval=1)=>{for(;;){if(await check())return;await(0,tick_1.tick)(pollInterval)}}}}]);